apply plugin: 'java'
apply plugin: 'idea'
apply from: 'signing.gradle'
apply from: 'publishing.gradle'

group = 'org.w007.activemq'
archivesBaseName = 'activemq-destination-reaper'
version = '0.2.1.1'

repositories {
  mavenCentral()
}

dependencies {
  compile 'org.slf4j:slf4j-api:+'
  compile group: 'org.apache.activemq', name: 'activemq-broker', version: '5.9.+'

  testCompile 'org.testng:testng:+'
  testCompile 'org.mockito:mockito-core:+'
  testCompile 'org.hamcrest:hamcrest-library:+'
  testRuntime 'ch.qos.logback:logback-classic:+'
}

task sourceJar(type: Jar) {
  classifier = 'sources'
  from sourceSets.main.allJava
}

task javadocJar(type: Jar, dependsOn: javadoc) {
  classifier = 'javadoc'
  from javadoc.destinationDir
}

artifacts {
  archives javadocJar, sourceJar
}

test {
  useTestNG()
}

